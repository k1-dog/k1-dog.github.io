$miku-date-preCls: "#{$m9-preCls}-date";

$miku-date-size-base: 1rem;

$miku-date-emoji-size: 1.1 * $miku-date-size-base;
$miku-date-width: $miku-date-size-base * 30;
$miku-date-height: $miku-date-size-base * 12;

/**
 * æ—¥æœŸå¤´éƒ¨ -- ä¸Šè¾¹ç•Œçº¿ ___ ä¸‰åªä»“é¼ æ ·å¼ -- ç”Ÿæˆå™¨
 */
@mixin date-top-line-style($mouse123-size: $miku-date-emoji-size) {
  $mouse-emoj: ğŸ¹;
  // height: 1px;
  width: 100%;
  border-radius: 6px;
  border: 1px solid #d1d1d1;
  %ABC_mouseEmoji_baseCls {
    // content: "#{$mouse-emoj}";
    font-size: $mouse123-size;
  }
  %AB_mouseEmoji_cls {
    @extend %ABC_mouseEmoji_baseCls !optional;
    position: absolute;
  }
  .mouse-123 {
    @extend %ABC_mouseEmoji_baseCls !optional;
    position: relative;
    margin: 0 50%;
    transform: translate(-10%, -1rem);
    // border-bottom: 1px solid #d1d1d1; ç”±äº-margin: 0 50% å¯¼è‡´è¯¥å±æ€§å¤±æ•ˆ, æœ‰ç©ºå¥½å¥½ç ”ç©¶ä¸€ä¸‹
    &::before {
      // @extend .AB-mouseEmoji-cls;
      content: "#{$mouse-emoj}";
      transform: translateX(-100%);
      position: absolute;
    }
    &::after {
      // @extend %AB_mouseEmoji_cls !optional;
      content: "#{$mouse-emoj}";
      transform: translateX(100%);
      position: absolute;
    }
  }
}

/**
 * æ—¥æœŸå¤´éƒ¨ -- æ˜¾ç¤ºæ¡† ___ æ ·å¼ -- ç”Ÿæˆå™¨
 */
@mixin head-view-wrap-style() {
  $head-view-middle-padding: $miku-date-size-base * 0.5;
  overflow: hidden;
  &-left { // å·¦åŠéƒ¨åˆ†
    float: left;
  }
  &-middle { // ä¸­å¿ƒéƒ¨åˆ†
    text-align: center;
    padding: 0 $head-view-middle-padding;
  }
  &-right { // å³åŠéƒ¨åˆ†
    float: right;
  }
}

/**
 * æ—¥æœŸä¸»ä½“ <-- -æ ‡é¢˜è¡Œ- --> å·¦è¾¹ç¼˜ | å³è¾¹ç¼˜ é¢œæ–‡å­—å›¾æ¡ˆæ ·å¼
 */
@mixin body-date-TitleEmoji-style($direction: 'lt') {
  $title-emoji-trans: $miku-date-size-base * 0.25;
  flex: 1;
  text-align: center;
  @if ($direction == 'lt') {
    content: "ğŸ‡"; transform: translateX(-$title-emoji-trans);
  }
  @else if ($direction == 'rt') {
    content: "ğŸ¦„"; transform: translateX($title-emoji-trans);
  }
}

/**
 * æ—¥æœŸå°¾éƒ¨ -- ä¸‹è¾¹ç•Œçº¿ ___ ä¸‰åª Animate æ ·å¼ -- ç”Ÿæˆå™¨
 */
@function date-bot-line-style($Anime: 'tiger', $parent-width: $miku-date-width) {
  $anime-dixPx: $parent-width * 0.35;
  $base-date-bot-map: (
    height: 1px,
    width: 100%,
    border-radius: 4px,
    border: 1px solid #d1d1d1
  );
  
  @if ($Anime == 'tiger') {
    $tiger-date-bot-map: map-merge($base-date-bot-map, (
      content: "ğŸ±",
      transform: translateX(-$anime-dixPx)
    ));
    @return $tiger-date-bot-map;
  } @else if ($Anime == 'cat') {
    $cat-date-bot-map: map-merge($base-date-bot-map, (
      content: "ğŸˆ",
      transform: translate(0)
    ));
    @return $cat-date-bot-map;
  } @if ($Anime == 'dog') {
    $dog-date-bot-map: map-merge($base-date-bot-map, (
      content: "ğŸ•",
      transform: translateX($anime-dixPx)
    ));
    @return $dog-date-bot-map;
  }
}

.#{$miku-date-preCls} {
  width: $miku-date-width;
  color: $m9-element-fontClr;
  background-color: $m9-element-bgClr;
  border-radius: 7px;
  box-shadow: 0 0 12px $m9-element-active-bgClr;
  // height: $miku-date-height;
  /** head - style */
  $head-view-padding: $miku-date-size-base * 1;
  &-head {
    padding: 0 $head-view-padding;
    /** top_Line - style */
    @include date-top-line-style(); // æ—¥æœŸå¤´éƒ¨ -- ä¸Šè¾¹çš„ä¸‰åªä»“é¼  è¾¹ç•Œçº¿
    &__view { // æ—¥æœŸå¤´éƒ¨ -- ä¸­å¿ƒ æ—¥æœŸæ˜¾ç¤ºæ¡†
      @include head-view-wrap-style();
    }
  }
  /** body - style */
  $body-view-padding: $miku-date-size-base * 0.4 $miku-date-size-base * 0.5;
  &-body {
    padding: $body-view-padding;
    &__date-row {
      width: 100%;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between; // ç´§è´´ -bodyå®¹å™¨- ä¸¤ä¾§å¸ƒå±€
      &:nth-child(1)::before {
        @include body-date-TitleEmoji-style('lt');
      }
      &:first-child::after {
        @include body-date-TitleEmoji-style('rt');
      }
      &:not(:first-child) {
        width: calc(100% - 4.5rem);
        margin: 0 50%;
        transform: translateX(-50%);
      }
      // ç»å…¸ -flex- çŸ©é˜µå¸ƒå±€ä¸­, æœ€åä¸€è¡Œå…ƒç´ å·¦å¯¹é½çš„å¤„ç†æ–¹æ¡ˆ -> å‘æœ«å°¾æ·»åŠ ä¸€ä¸ªç©ºä¼ªå…ƒç´ å ä½
      &:last-child::after {
        content: "ğŸ“†";
        display: inline-block;
        position: absolute;
        right: -2.5rem;
        text-align: right;
      }
    }
    &__date-col {
      flex: 1;
      text-align: center;
      cursor: pointer;
      margin: 3px 15px;
      transition: background-color 0.479s ease;
      opacity: .999;
      border-radius: 6px;
      &.selected {
        opacity: 1;
        background-color: $m9-element-active-bgClr;
        border: 1px solid $button-pure-active-borderClr;
        border-radius: 100%;
        color: $button-danger-active-borderClr;
      }
      &.disabled {
        cursor: not-allowed;
        background-color: $m9-element-disabled-bgClr;
        color: $m9-element-fontClr;
        pointer-events: none;
      }
      &:hover {
        opacity: 1;
        color: $m9-element-bgClr;
        background-color: $button-pure-active-bgClr;
      }
    }
    &__date-head {
      font-size: 12px;
      background-color: $m9-inner-element-bgClr;
      user-select: none;
      pointer-events: none;
    }
  }
  /** foot - style */
  &-foot {
    @each $k, $v in date-bot-line-style('cat') {
      $k: $v;
    }
    &::before {
      @each $k, $v in date-bot-line-style('tiger') {
        $k: $v;
      }
    }
    &::after {
      @each $k, $v in date-bot-line-style('dog') {
        $k: $v;
      }
    }
  }
}