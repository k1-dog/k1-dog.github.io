@import './color-panel.scss';

@mixin m9-flex-center ($style: 'inline') {
  @if ($style == 'inline') {
    display: inline-flex;
  } @else {
    display: flex;
  }
  align-items: center;
  justify-content: center;
}
@mixin m9-position-center($width: null, $height: null) {
  position: absolute;
  top: 50%;
  left: 50%;
  @if not $width and not $height {
    transform: translate(-50%, -50%);
  } /* transform 特殊性 只相对于自己的 % */
  @else if $width and $height {
    width: $width;
    height: $height;
    margin: -($width / 2) #{0 0} - ($height / 2);
  } @else if not $height {
    width: $width;
    margin-left: -($width / 2);
    transform: translateY(-50%);
  } @else if not $width {
    height: $height;
    margin-top: -($height / 2);
    transform: translateX(-50%);
  }
}

@mixin m9-mirai-theme($W: 48px, $H: 23px, $theme: 'blue') {
  position: relative;
  width: $W;
  height: $H;
  padding: 8px 5px;
  background: var(--gray-dark-4);

  color: map-get($map: $mirai-map, $key: mirai-color-#{$theme});
  transition: all 0.25s;

  &:hover,
  &:focus {
    background: map-get($map: $mirai-map, $key: mirai-color-#{$theme});
    color: var(--gray-dark-6);
    text-shadow: 0 1px 5px var(--purple-dark);
    transition-delay: 0.4s;

    &::before,
    &::after {
      width: 100%;
      height: 100%;
    }
  }

  &::before {
    content: '';
    position: absolute;
    width: 35%;
    height: 35%;
    top: 0;
    left: 0;
    border-top: 2px solid map-get($map: $mirai-map, $key: mirai-color-#{$theme});
    border-left: 2px solid map-get($map: $mirai-map, $key: mirai-color-#{$theme});
    transition: all 0.25s;
  }
  &::after {
    content: '';
    position: absolute;
    width: 35%;
    height: 35%;
    bottom: 0;
    right: 0;
    border-bottom: 2px solid map-get($map: $mirai-map, $key: mirai-color-#{$theme});
    border-right: 2px solid map-get($map: $mirai-map, $key: mirai-color-#{$theme});
    transition: all 0.25s;
  }
}

@mixin m9-trangle($type: 'down', $size: 6px) {
  $arrowEGapDistance: - $size * 1.05;
  @if $type == 'down' {
    $type: 'top';
    bottom: $arrowEGapDistance;
    animation: arrow-spinning-y 1s ease-in-out infinite;
  } @else if $type == 'top' {
    $type: 'bottom';
    top: $arrowEGapDistance;
    animation: arrow-spinning-y 1s ease-in-out infinite;
  } @else if $type == 'left' {
    $type: 'right';
    left: $arrowEGapDistance;
    animation: arrow-spinning-x 1s ease-in-out infinite;
  } @else if $type == 'right' {
    $type: 'left';
    right: $arrowEGapDistance;
    animation: arrow-spinning-x 1s ease-in-out infinite;
  }
  $arrow-color: #9d7dff;
  content: '';
  position: absolute;
  width: 0;
  height: 0;
  border-width: $size;
  border-style: solid;
  border-radius: 6px;
  border-color: transparent;
  // border-#{$type}-width: 0;
  border-#{$type}-color: $arrow-color;

  @keyframes arrow-spinning-y {
    from {
      transform: rotateY(0deg);
    }
    to {
      transform: rotateY(360deg);
    }
  }
  @keyframes arrow-spinning-x {
    from {
      transform: rotateX(0deg);
    }
    to {
      transform: rotateX(360deg);
    }
  }
}

@mixin m9-clearfix() {
  zoom: 1;
  &::before,
  &::after {
    content: '';
    display: table;
  }

  &::after {
    clear: both;
  }
}

// 本人非常不要脸的借抄一下 codeopen 网站中七彩流光边框。因为实在太好看了, 而设计原理我暂时没搞懂。先暂用一哈~~sorry!
@mixin m9-7-colorful() {
  @keyframes colurful-moving {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }
  & {
    position: relative;
    text-align: center;
    position: relative;
    border-radius: 6px;
    overflow: hidden;
    &::before:hover {
      animation-play-state: running;
    }
  }
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 200%;
    height: 100%;
    background: linear-gradient(115deg, #4fcf70, #fad648, #a767e5, #12bcfe, #44ce7b);
    background-size: 50% 100%;
    animation: colurful-moving 3s infinite;
    // animation-play-state: paused;
  }
}

@mixin m9-text-overflow () {
  text-wrap: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}